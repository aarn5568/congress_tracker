# Congress Tracker - Optimal Cron Schedule
#
# This schedule fetches data once per day (after Congress.gov updates at 10 AM ET)
# and spreads posts throughout the day to avoid flooding followers.
#
# Timeline:
#   10:30 AM ET - Fetch all data (votes, bills, speeches)
#   11:00 AM ET - Post first batch (10 items, prioritizes votes)
#   1:00 PM ET  - Post second batch (15 items)
#   3:00 PM ET  - Post third batch (15 items)
#   5:00 PM ET  - Post fourth batch (10 items, speeches)
#   7:00 PM ET  - Post catch-all (20 items, anything remaining)
#
# Total: Up to 70 items/day spread over 8 hours
#
# IMPORTANT: Adjust times for your server's timezone!
# These times assume Eastern Time (ET). Convert accordingly.
#
# Installation:
#   1. Copy this file: cp scripts/crontab.example scripts/crontab.local
#   2. Edit paths in crontab.local to match your setup
#   3. Install: crontab scripts/crontab.local
#

# Set timezone (adjust as needed)
# CRON_TZ=America/New_York

# Set paths - MODIFY THESE FOR YOUR SYSTEM
PROJECT_DIR=/home/user/congress_tracker
LOG_DIR=/var/log/congress_tracker

# Create log directory if it doesn't exist
# mkdir -p $LOG_DIR

# 10:30 AM ET - Fetch daily data
30 10 * * * $PROJECT_DIR/scripts/fetch_daily.sh >> $LOG_DIR/fetch.log 2>&1

# 11:00 AM ET - Post morning batch (votes priority)
0 11 * * * $PROJECT_DIR/scripts/post_morning.sh >> $LOG_DIR/post_morning.log 2>&1

# 1:00 PM ET - Post afternoon batch
0 13 * * * $PROJECT_DIR/scripts/post_afternoon.sh >> $LOG_DIR/post_afternoon.log 2>&1

# 3:00 PM ET - Post mid-afternoon batch
0 15 * * * $PROJECT_DIR/scripts/post_midafternoon.sh >> $LOG_DIR/post_midafternoon.log 2>&1

# 5:00 PM ET - Post evening batch (speeches)
0 17 * * * $PROJECT_DIR/scripts/post_evening.sh >> $LOG_DIR/post_evening.log 2>&1

# 7:00 PM ET - Post catch-all batch
0 19 * * * $PROJECT_DIR/scripts/post_catchall.sh >> $LOG_DIR/post_catchall.log 2>&1

# Optional: Weekly cleanup of old logs (runs Sunday at midnight)
# 0 0 * * 0 find $LOG_DIR -name "*.log" -mtime +30 -delete
